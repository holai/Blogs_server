webpackJsonp([8],{Y3zU:function(t,e){},xQoG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"about-manages",data:function(){return{mydata:[],dialogFormVisible:!1,form:{title:"",date:"",text:""},formLabelWidth:"120px"}},methods:{add:function(){var t=this;""!=this.form.date&&""!=this.form.title&&""!=this.form.text?this.$axios.get("/admin/addIntro?date="+this.form.date+"&title="+this.form.title+"&text="+this.form.text).then(function(e){0==e.data.code?(t.$message({type:"success",message:"添加成功!"}),t.mydata.push(t.form),t.form={},t.dialogFormVisible=!1):t.$message.error("添加失败！")}):this.$message({type:"warning",message:"请填写完整!"})},open:function(t,e){var a=this;this.$confirm("此操作将删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.get("/admin/removeIntro?date="+e).then(function(e){0==e.data.code?(a.$message({type:"success",message:"删除成功!"}),a.mydata.splice(t,1)):a.$message.error("删除失败！")}).catch(function(t){console.log(t)})}).catch(function(){})}},created:function(){var t=this;this.$axios.get("/intro").then(function(e){0==e.data.code&&(t.mydata=e.data.data)}).catch(function(t){console.log(t)})}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aboutManage"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新建")]),t._v(" "),t._l(t.mydata,function(e,o){return a("el-card",{key:o,staticClass:"box-card item",attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"text"},[t._v(t._s(e.text))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.date))]),t._v(" "),a("i",{staticClass:"el-alert__closebtn el-icon-close",on:{click:function(a){return t.open(o,e.date)}}})])}),t._v(" "),a("el-dialog",{attrs:{title:"添加","custom-class":"dialog",id:"dialog",visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("确 定")])],1)],1)],2)},staticRenderFns:[]};var s=a("C7Lr")(o,i,!1,function(t){a("Y3zU")},"data-v-7a7b99fb",null);e.default=s.exports}});